---
import { execSync } from "child_process";

const today = new Date();

let commitSha = "";
try {
  commitSha = execSync("git rev-parse --short HEAD").toString().trim();
} catch {
  commitSha = "unknown";
}
---

<footer>
  <div class="footer-text">
    <p>
      Built with <a href="https://astro.build/" target="_blank" rel="noopener noreferrer">Astro</a>.
      Analytics by <a href="https://www.cloudflare.com/web-analytics/" target="_blank" rel="noopener noreferrer">Cloudflare Web Analytics</a>.
    </p>
    <p>&copy; {today.getFullYear()} abnoumaru / commit hash: {commitSha}</p>
  </div>
</footer>

<style>
  footer {
    padding: 2.5rem 0;
    border-top: 1px solid #eee;
    text-align: center;
    background-color: #fff;
  }

  .footer-text {
    font-size: 0.9rem;
    color: #111;
    margin: 0;
  }

  .footer-text p {
    margin: 0.25rem 0;
  }

  .footer-text a {
    color: #111;
    text-decoration: underline;
  }

  .footer-text a:hover {
    color: #111;
  }

  @media (max-width: 768px) {
    footer {
      padding: 2rem 0;
    }
  }

  @media (max-width: 480px) {
    footer {
      padding: 1.5rem 0;
    }
  }
</style>
